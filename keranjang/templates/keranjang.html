{% load static %}  <!-- Pastikan baris ini ada di paling atas template Anda -->

{% block content %}
<div class="container mx-auto text-center py-16">
    <h2 class="text-3xl font-bold mb-4">KERANJANG ANDA KOSONG</h2>

    <!-- Tombol untuk mulai berbelanja -->
    <a href="{% url 'keranjang:view_keranjang' %}" class="inline-block bg-black text-white py-3 px-6 rounded-lg font-bold hover:bg-gray-800 transition-colors">
        MULAI BERBELANJA →
    </a>

    <!-- Metode pembayaran yang diterima -->
    <div class="mt-12">
        <p class="text-gray-700 font-semibold uppercase tracking-wide mb-4">Metode Pembayaran yang Diterima</p>
        <div class="flex justify-center space-x-6">
            <!-- Gambar metode pembayaran -->
            <img src="{% static 'img/visa.png' %}" alt="Visa" class="w-10">
            <img src="{% static 'img/mastercard.png' %}" alt="Mastercard" class="w-10">
            <img src="{% static 'img/paypal.png' %}" alt="Mastercard" class="w-10">

        </div>
    </div>
</div>

<div class="container mt-5">
    <h2 class="font-bold text-xl mb-4">KERANJANG ANDA</h2>

    <!-- Pesan Sukses jika Item Ditambahkan ke Keranjang -->
    {% if item_added %}
        <div class="bg-green-100 text-green-700 p-4 mb-4 rounded">
            <p>Item berhasil ditambahkan ke keranjang Anda!</p>
        </div>
    {% endif %}

    <p>Total: ({{ item_keranjang|length }} items) <strong>Rp {{ total_harga }}</strong></p>
    <p>Barang di keranjang Anda belum disimpan — segera checkout untuk memilikinya.</p>


    {% if item_keranjang %}
        <ul class="space-y-4">
            {% for item in item_keranjang %}
            <li class="flex items-start justify-between p-4 border-b border-gray-300">
                <div class="flex items-start space-x-4">
                    <!-- Gambar Placeholder (jika tersedia) -->
                    <img src="{{ item.sneaker.image.url }}" alt="{{ item.sneaker.name }}" class="w-20 h-20 object-cover">
                    <div>
                        <h3 class="font-semibold">{{ item.sneaker.name }}</h3>
                        <p>{{ item.sneaker.color }}</p>
                        <p class="text-sm">Ukuran: {{ item.size }}</p>
                        <p>Rp {{ item.sneaker.price }} x {{ item.kuantitas }}</p>
                    </div>
                </div>
                <div class="text-right">
                    <p class="font-bold">Total: Rp {{ item.total_harga }}</p>
                    <a href="{% url 'keranjang:remove_from_cart' item.sneaker.id %}" class="text-red-500 underline">Hapus</a>
                </div>
            </li>
            {% endfor %}
        </ul>

        <!-- Ringkasan Pesanan -->
        <div class="mt-6 border-t border-gray-300 pt-4">
            <h3 class="font-semibold text-lg">RINGKASAN PESANAN</h3>
            <div class="flex justify-between">
                <p>{{ item_keranjang|length }} items</p>
                <p>Rp {{ total_harga }}</p>
            </div>
            <div class="flex justify-between">
                <p>Harga Asli</p>
                <p>Rp {{ total_harga_asli }}</p>
            </div>
            <div class="flex justify-between">
                <p>Diskon Penjualan</p>
                <p>- Rp {{ total_diskon }}</p>
            </div>
            <div class="flex justify-between">
                <p>Pengiriman</p>
                <p>GRATIS</p>
            </div>
            <div class="flex justify-between font-bold mt-2">
                <p>Total</p>
                <p>Rp {{ total_harga }}</p>
            </div>

            <!-- Metode Pembayaran -->
            <div class="mt-6">
                <p class="text-sm">Metode Pembayaran yang Diterima</p>
                <img src="{% static 'images/payment-methods.png' %}" alt="Metode Pembayaran" class="w-64">
            </div>
        </div>
    {% else %}
        <p class="text-lg mt-4">Keranjang belanja Anda kosong.</p>
    {% endif %}
</div>
{% endblock %}
