{% extends "base.html" %}
{% load static %}

{% block content %}
{% include "navbar.html" %}

<div class="flex justify-center items-center h-screen w-screen bg-cover bg-center relative" style="background-image: url({% static 'img/tes.png' %});">
    <!-- Overlay for better text contrast -->
    <div class="absolute inset-0 bg-black opacity-60"></div>

    <!-- Content -->
    <div class="relative z-10 text-center max-w-4xl mx-auto">
        <!-- Success Icon -->
        <div class="flex justify-center mb-6">
            <div class=" rounded-full shadow-lg animate-bounce">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-24 w-24 text-green-500" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.707a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                </svg>
            </div>
        </div>

        <!-- Main Message -->
        <h2 class="text-6xl font-extrabold text-white mb-4 drop-shadow-lg animate-fadeIn">Payment Successful!</h2>
        <p class="text-xl text-gray-300 mb-6 animate-fadeIn">Thank you for your purchase. Your order is being processed.</p>

        <!-- Purchase History Section -->
        <div class="bg-white rounded-xl shadow-xl p-10 mt-6 w-full lg:w-2/1 mx-auto transform transition-transform hover:scale-105">
            <h3 class="text-3xl font-bold mb-6 text-gray-800">Your Purchase History</h3>

            <table class="table-auto w-full text-left text-gray-700">
                <thead class="bg-gray-50 text-gray-600 uppercase text-sm tracking-wider">
                    <tr>
                        <th class="px-4 py-3">Product</th>
                        <th class="px-4 py-3 text-right">Quantity</th>
                        <th class="px-4 py-3 text-right">Price</th>
                        <th class="px-4 py-3 text-right">Total</th>
                    </tr>
                </thead>
                <tbody>
                    {% for purchase in purchase_history %}
                        <tr class="border-b hover:bg-gray-100 transition-colors">
                            <td class="px-4 py-3">{{ purchase.sneaker.name }}</td>
                            <td class="px-4 py-3 text-right">{{ purchase.quantity }}</td>
                            <td class="px-4 py-3 text-right">Rp {{ purchase.sneaker.price }}</td>
                            <td class="px-4 py-3 text-right font-bold">Rp {{ purchase.total_price }}</td>
                        </tr>
                    {% empty %}
                        <tr>
                            <td colspan="4" class="px-4 py-4 text-center text-gray-500">No purchase history available.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>

            <!-- Button to go back to homepage -->
            <div class="mt-8 flex justify-center space-x-4">
                <a href="{% url 'homepage:show_homepage' %}" class="bg-green-500 text-white font-semibold py-3 px-10 rounded-lg shadow-lg hover:bg-green-600 transition-all duration-300 ease-in-out transform hover:scale-105">
                    Return to Homepage
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Adding animations with Tailwind CSS -->
<style>
@keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
}
.animate-fadeIn {
    animation: fadeIn 2s ease-in-out;
}
</style>
{% endblock %}
